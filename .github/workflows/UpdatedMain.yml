name: ðŸŽ¯ Updated Main

on:
  push:
    branches:
      - main

jobs:
  setup:
    name: Setup
    uses: ./.github/workflows/Setup.yml

  build:
    name: Build
    needs: [ setup ]
    uses: ./.github/workflows/Build.yml
    with:
      matrix: ${{ needs.setup.outputs.matrix }}

  qa:
    name: QA
    needs: build
    uses: ./.github/workflows/QA.yml
    secrets: inherit

  test:
    name: Test
    needs: [ setup, build ]
    uses: ./.github/workflows/Test.yml
    with:
      matrix: ${{ needs.setup.outputs.matrix }}
